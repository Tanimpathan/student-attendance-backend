2025-10-16 20:17:36 error: MulterError: Unexpected field
    at wrappedFileFilter (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/multer/index.js:40:19)
    at Multipart.<anonymous> (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/multer/lib/make-middleware.js:132:7)
    at Multipart.emit (node:events:517:28)
    at HeaderParser.cb (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/busboy/lib/types/multipart.js:358:14)
    at HeaderParser.push (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/busboy/lib/types/multipart.js:162:20)
    at SBMH.ssCb [as _cb] (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/busboy/lib/types/multipart.js:394:37)
    at feed (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/streamsearch/lib/sbmh.js:248:10)
    at SBMH.push (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/streamsearch/lib/sbmh.js:104:16)
    at Multipart._write (/Users/tanimpathan/Documents/projects/duar-code-test-backend/node_modules/busboy/lib/types/multipart.js:567:19)
    at writeOrBuffer (node:internal/streams/writable:392:12)
2025-10-17 06:36:57 error: TypeError: Cannot read properties of undefined (reading '0')
    at exports.getStudentProfile (/Users/tanimpathan/Documents/projects/duar-code-test-backend/controllers/studentController.js:34:42)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-18 18:59:48 error: error: date/time field value out of range: "1122222222000"
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async exports.uploadStudents (/app/controllers/teacherController.js:83:26)
2025-10-18 20:56:54 error: error: invalid input syntax for type date: ""
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async exports.editStudent (/app/controllers/teacherController.js:360:28)
2025-10-18 21:25:30 error: TypeError: Assignment to constant variable.
    at exports.getStudents (/app/controllers/teacherController.js:191:20)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
2025-10-18 21:25:41 error: TypeError: Assignment to constant variable.
    at exports.getStudents (/app/controllers/teacherController.js:191:20)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
2025-10-18 21:25:51 error: TypeError: Assignment to constant variable.
    at exports.getStudents (/app/controllers/teacherController.js:191:20)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
2025-10-18 21:26:26 error: TypeError: Assignment to constant variable.
    at exports.getStudents (/app/controllers/teacherController.js:191:20)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
2025-10-18 21:26:26 error: TypeError: Assignment to constant variable.
    at exports.getStudents (/app/controllers/teacherController.js:191:20)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
2025-10-18 21:26:27 error: TypeError: Assignment to constant variable.
    at exports.getStudents (/app/controllers/teacherController.js:191:20)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
2025-10-18 21:26:27 error: TypeError: Assignment to constant variable.
    at exports.getStudents (/app/controllers/teacherController.js:191:20)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
2025-10-19 11:42:43 error: error: invalid input syntax for type integer: "undefined"
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async exports.getTodayAttendance (/app/controllers/studentController.js:75:28)
2025-10-19 11:42:48 error: error: invalid input syntax for type integer: "undefined"
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async exports.getTodayAttendance (/app/controllers/studentController.js:75:28)
2025-10-19 11:42:58 error: error: invalid input syntax for type integer: "undefined"
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async exports.getTodayAttendance (/app/controllers/studentController.js:75:28)
2025-10-22 15:09:56 error: TypeError: db.connect is not a function
    at exports.downloadStudents (/app/controllers/teacherController.js:204:23)
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:24:3
    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)
    at next (/app/node_modules/router/lib/route.js:157:13)
    at /app/middleware/authMiddleware.js:16:5
    at /app/node_modules/jsonwebtoken/verify.js:261:12
    at getSecret (/app/node_modules/jsonwebtoken/verify.js:97:14)
    at module.exports [as verify] (/app/node_modules/jsonwebtoken/verify.js:101:10)
{"timestamp":"2025-10-24 09:17:09","level":"error","message":"ReferenceError: logger is not defined\n    at exports.loginUser (/app/controllers/authController.js:209:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"your-service-name","env":"development"}
{"timestamp":"2025-10-24 09:17:56","level":"error","message":"Login process failed with unexpected error","stack":"error: column r.permissions does not exist\n    at /app/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.loginUser (/app/controllers/authController.js:113:24)","service":"your-service-name","env":"development","action":"login_process_error","username":"teacher","ipAddress":"::ffff:192.168.65.1","error":"column r.permissions does not exist","errorCode":"LOGIN_001","errorType":"error","logType":"error"}
{"timestamp":"2025-10-27 15:11:48","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"DuplicateDataError","message":"User 'teacher, teacher@gmail.com, or 01234567895656' already exists","stack":"DuplicateDataError: User 'teacher, teacher@gmail.com, or 01234567895656' already exists\n    at createDuplicateError (/app/utils/errors.js:138:10)\n    at exports.registerTeacher (/app/controllers/authController.js:28:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":409,"errorCode":"VAL_002","isOperational":true,"timestamp":"2025-10-27T15:11:48.492Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-27 15:12:18","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"DuplicateDataError","message":"User 'teacher2, teacher2@gmail.com, or 01234567895656' already exists","stack":"DuplicateDataError: User 'teacher2, teacher2@gmail.com, or 01234567895656' already exists\n    at createDuplicateError (/app/utils/errors.js:138:10)\n    at exports.registerTeacher (/app/controllers/authController.js:28:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":409,"errorCode":"VAL_002","isOperational":true,"timestamp":"2025-10-27T15:12:18.417Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-27 15:30:32","level":"error","message":"Teacher registration failed","stack":"TypeError: createDuplicateError is not a function\n    at exports.registerTeacher (/app/controllers/authController.js:28:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"your-service-name","env":"development","action":"teacher_registration_error","username":"teacher2","email":"teacher2@gmail.com","mobile":"01234567895656","error":"createDuplicateError is not a function","errorCode":"TEACHER_REG_001"}
{"timestamp":"2025-10-27 15:30:32","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"TypeError","message":"createDatabaseError is not a function","stack":"TypeError: createDatabaseError is not a function\n    at exports.registerTeacher (/app/controllers/authController.js:103:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":500,"errorCode":"SERVER_ERROR","isOperational":false,"timestamp":"2025-10-27T15:30:32.430Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-27 15:37:56","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"DuplicateDataError","message":"User with this username, email, or mobile already exists.","stack":"DuplicateDataError: User with this username, email, or mobile already exists.\n    at exports.registerTeacher (/app/controllers/authController.js:25:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":409,"errorCode":"VAL_002","isOperational":true,"timestamp":"2025-10-27T15:37:56.918Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-27 15:42:04","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"DuplicateDataError","message":"User with this username, email, or mobile already exists.","stack":"DuplicateDataError: User with this username, email, or mobile already exists.\n    at exports.registerTeacher (/app/controllers/authController.js:27:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":409,"errorCode":"VAL_002","isOperational":true,"timestamp":"2025-10-27T15:42:04.542Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-27 15:42:37","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"DuplicateDataError","message":"User with this username, email, or mobile already exists.","stack":"DuplicateDataError: User with this username, email, or mobile already exists.\n    at exports.registerTeacher (/app/controllers/authController.js:27:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":409,"errorCode":"VAL_002","isOperational":true,"timestamp":"2025-10-27T15:42:37.564Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-27 15:43:22","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"DuplicateDataError","message":"User with this username, email, or mobile already exists.","stack":"DuplicateDataError: User with this username, email, or mobile already exists.\n    at exports.registerTeacher (/app/controllers/authController.js:27:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":409,"errorCode":"VAL_002","isOperational":true,"timestamp":"2025-10-27T15:43:22.150Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-27 15:45:13","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"DuplicateDataError","message":"User with this username, email, or mobile already exists.","stack":"DuplicateDataError: User with this username, email, or mobile already exists.\n    at exports.registerTeacher (/app/controllers/authController.js:27:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":409,"errorCode":"VAL_002","isOperational":true,"timestamp":"2025-10-27T15:45:13.768Z"},"request":{"method":"POST","url":"/api/v1/auth/register","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
{"timestamp":"2025-10-28 04:57:26","level":"error","message":"Error occurred:","service":"your-service-name","env":"development","error":{"name":"AuthenticationError","message":"Invalid username or password","stack":"AuthenticationError: Invalid username or password\n    at exports.loginUser (/app/controllers/authController.js:161:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"errorCode":"AUTH_001","isOperational":true,"timestamp":"2025-10-28T04:57:26.463Z"},"request":{"method":"POST","url":"/api/v1/auth/login","ip":"::ffff:192.168.65.1","userAgent":"PostmanRuntime/7.49.0","userId":null}}
